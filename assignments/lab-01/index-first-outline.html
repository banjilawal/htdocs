<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Sneakers and Heels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <section id="headerSection" title="headerSection">
        <header>
        <img src="assets/shoe-collective-01.jpeg" alt="shoe-collective-01">
        <h1>Welcome</h1>

        <p>
            Welcome to Sneakers and Heels. Where you can find your favorite styles in sneakers, heels, casual dress, shoes and boots.
        </p>
        </header>
    </section>

    <section id = "navSection" title="navSection">
        <nav>

        </nav>
    </section>

    <section>
    </section>

    <script>
        let x = document.createElement("img");
        x.src = "assets/shoe-collective-02.jpeg";
        x.alt = "shoe-collective-02";
        document.appendChild(x);

        var imageCount = 3;
        var imagePath = "shoe-collective-0";
        
        for (index = 1; index <= imageCount; index++) {
            var path = imagePath + index + ".jpeg";
            var picture = document.createElement("img");

            window.alert(path);

            //picture.src = "assets/shoe-collective-01.jpeg";
            document.appendChild(picture).src("assets/shoe-collective-01.jpeg");
        }
    </script>

    <!--######## Start Helper Functions ########-->
    <script>
        const SALES_TAX_RATE = 0.05;
        const MAX_BRANDS_ON_SALE = 5;
        const MAX_PER_MODEL_INVENTORY = 150;

        var brands = ["Testoni","Aetrex","Aldo","Alegria","Alexander Mcqueen","Allen-Edmonds","Anne Klein","Annie","Armani","Beeko","Ben Sherman","Bernardo",
            "Betsey Johnson","Big Buddha","Blowfish","Blundstone","Bogs","Born","Boss black","Bostonian","Bottega veneta","Brighton","Bruno magli","Calvin klein","Camper",
            "Cesare paciotti","Chaco","Clarks","Cobb hill","Cobian","Cole haan","Costume national","Crocs","Cushe","Dansko","Deer stags","DKNY","Dockers","Dolce & gabbana",
            "Dolce vita","Dr. martens","Dr. scholl's","Dsquared2","Dunham","Eastland","Ecco","Elephantito","Emerald by element","Emerica","Fendi","Fiel","Finn comfort",
            "Fitflop","Fitzwell","Florsheim","Fly flot","Footmates","Fossil","Franco sarto","Fratelli","Frye","Garvalin","Gbx","Gentle souls","Geox","Giorgio brutini",
            "Giuseppe zanotti","Gordon rush","Gravati","Guess","Havaianas","Hush puppies","Jambu","Johnston & murphy","Juicy couture","Kalso earth","Kamik",
            "Kate spade new york","Keds","Keen","Kelsi dagger","Kenneth cole","Lacoste","Lassen","Ralph lauren","Lifestride","Livie & luca","Lloyd","Lucky brand","Lumiani",
            "Madden girl","Magnanni","Marc jacobs","Matisse","Mephisto","Merrell","Michael Kors","Minnetonka","Naturino","Nautilus","Old friend","Olukai","Original penguin",
            "Patagonia","Pikolinos","Rockport","Romika","Roper","Ros hommerson","Roxy","Salvatore ferragamo","Sam edelman","Santoni","Sanuk","Seavees","Sebago","Sesto meucci",
            "Seychelles","Skechers","Softwalk","Sorel","Spenco","Sperry top-sider","Splendid","Spring step","Stacy adams","Steve Madden","Stuart Weitzman","Taryn Rose",
            "Ted baker","Teva","Timberland","Tommy bahama","Tommy Hilfiger","Trotters","Ugg","Vaneli","Versace collection","Vince camuto","Vivienne westwood","White Mountain",
            "Wolky","Wolverine","Woolrich","Yellow box"];

        var models = ["Bakhchiev","Pavlocich","Belisario","Elysees","Greinacher","Pays","Busching","Threnos","Tomasche","Oyle","Eschenbach","Pilss","Granat","Hands",
            "Margueite","Fleisher","Didjeridu","Saraban","Espan","Guttler","Firkusny","Yorkshire","Nowell","Selles","Vroons","Schicksalslie","Teramo","Bernfeld","Naegele",
            "Aeria","Busching","Noferi","Dizzi","Bars","Bester","Glauser","Bogaerts","Veils","Manzoni","Amorosa","Urbini","Nono","Cire","Wiklund","Soloist","Ponkin",
            "Larviksp","Leuchten","Dino","Piccinini","Michala","Iwasaki","Hearted","Bihlmaier","Viaggio","Viljakainen","Meylan","Ives","Reverence","Freibert","Knut",
            "Garvelmann","Evenhymn","Bresden","Honours","Lentz","Kober","Sephardim","Pasino","Chambon","Rheinla","Instrumentalis","Gorne","Nyffenegger","Paladins",
            "Dushchenko","Anaosov","Rochberg","Iwaki","Conversione","Pellie","Reznikoff","Postilion","Lizst","Dubar","Foldes","Lluna","Cata","Bondi","Althann","Jaroslav",
            "Ranzani","Presenting","Temps","Watching","Konzerstuck","Veyron","Biarent","Higginson","Mercre","Turetschek","Harty","Pomerian","Zagorinsky","Grammy","Wilm",
            "Soren","Volpi","Germa","Misterio","Rotterdam","Tabakov","Siegf","Kabaiwanska","Resurrection","Palma","Grasso","Haselboeck","Duos","Asheknazy","Visions",
            "Dreame","Omar","Krafft","Alta","Sommerfest","Symphonists","Sensations","Leande","Redel","Leman","Kerner","Entertainment","Cavasanti","Misha","Witwe",
            "Nikolaeva","Reyna","Markus","Wildhaber","Waggoner","Adeste"];

        var styles = ["Casual Shoes", "Dress Shoes", "Boots", "High Heels", "Sneakers"];
        var discountedBrands = [];
        var sizeList = [];

        var brand = "";
        var style = "";
        var model = "";
        
        var tax = 0.00;
        var price = 50.00;
        var percentDiscount = 0;

        var size = 10;

        var shoe = null;

        const imageRoot = "assests";

        function trimComma (string) {
            return string = string.replace(/,\s*$/, "");
        } // close trimComma

        function randomBrand () {
            var index = Math.floor(Math.random() * brands.length);
            //document.write("<p>" + brands[index] + " was randomly selected</p>") ;
            return brands[index];

        } // close randomBrand

        function randomModel () {
            var index = Math.floor(Math.random() * models.length);
            //document.write("<p>" + models[index] + " is our featured model shoe models.</p>") ;
            return models[index];

        } // close randomModel


        function randomStyle () {
            var index = Math.floor(Math.random() * styles.length);
            //document.write("<p>" + styles[index] + " are on sale for 20% off</p>") ;
            return styles[index];
                    
        } // close randomStyle

        function randomPrice () {
            var lowest = 19;
            var highest = 149;
            
            return (Math.floor(((Math.random() * (highest - lowest)) + lowest)) + 0.99);

        } // close randomPrice

        function randomPercentDiscount () {
            var max = 50;
            return Math.floor(Math.random() * max);

        } // close discountOercent

        class ShoeSize {
            constructor (size) {
                this.size = size;
                this.inWide = (Math.random() > 0.75);
            } // close constructor

            toString() {
                if (this.inWide) { 
                    return this.size + "/" + this.size + "(W)"; 
                }
                else {
                    return this.size;
                }
            } // close toString

        } // end class ShoeSize

/*
        class ShoeSizeArray {
            constructor() {
                this.data = [];

                for (index = 7; index < 14; index++) {
                    s = new ShoeSize(index);
                    document.write("pushing size: " + s.toString() + " onto size array<br>");
                    data.push(s);

                    if (Math.random() > 0.6) {
                        data.push(new ShoeSize(index + 0.5));
                    }
                }       
            } // close constructor
            
            subset () {
                let a = [];

                data.forEach(element => {
                    if (Math.random() > 0.45) {
                        a.push(element);
                    }
                });
                return a;
            }

        } // end class ShoeSizeArray

        var sizeAray = new ShoeSizeArray();
*/
        function buildSizeList() {
            for (index = 7; index <= 13; index++) {
                let size = new ShoeSize(index);

                //document.write("size: " + size.toString() + "<br>");
                sizeList.push(size);

                if (Math.random() > 0.6) {
                    sizeList.push(new ShoeSize(index + 0.5));
                }
            }

        } //close buildSizeList
        buildSizeList();

        function sizeSubSet () {
            let array = [];

            sizeList.forEach(element => {
                if (Math.random() >= 0.45) {
                    //document.write("size " + element.toString() + " in the subset<br>");
                    array.push(element);
                }
            });

            return array;

        } // close sizeSubSet
        var subset = sizeSubSet();

        function buttonBuilder (type, name, content) {
            var btn = document.createElement("button");
            var label = name + "Button";
            var enabled = false;

            if (type == "submit" || type == "reset") {
                enabled = false;
            }

            //document.write("Passed " + data + " to modelButtonHandler<br>") ;
            btn.id = label;
            btn.name = label;
            btn.title = label;
            btn.type = type;

            btn.innerHTML = content;
            btn.disabled = enabled;

            document.body.appendChild(btn);  

        } // close buttonBuilder

        function dropDownBuilder (name, outerText) {
            var dropDown = document.createElement("select");
            var label = name + "DropDown";

            dropDown.id = label;
            dropDown.title = label;
            dropDown.name = label;
            dropDown.outerText = outerText; 
            document.body.appendChild(dropDown);

            return dropDown.id;
        } // close dropDownBuilder

        function dropDownFiller (dropDownID, outerText) {
            var dropDown = document.getElementById(dropDownID, ...list);
            var counter = 0;

            list.forEach(item => {
                counter++;
                document.write("run " + counter + " in dropdownBuilder: " + item + "<br>");
                var option = document.createElement("option");

                option.textContent = item;
                option.value = item;

                dropDown.appendChild(option);
            });

        } // close dropDownBuilder

        function selectionDescriptor(description) {
            var elem = document.createElement("option");

            elem.textContent = description;
            elem.value = description;

            return elem;

        } // close selectionDescriptor

        function taxTotal (saleAmount) { 
            return (saleAmount * SALES_TAX_RATE); 
        }

        function fillDiscountedBrands () {
            for (index = 0; index < MAX_BRANDS_ON_SALE; index++) {
                brand = randomBrand();

                while (discountedBrands.indexOf(brand) != -1) {
                    brand = randomBrand(); 
                }
                discountedBrands.push(brand);
            }

        } // close fillDiscountedBrands
        fillDiscountedBrands();
    </script>
    <!--######## Stop Helper Functions ########-->


    <!--######## Start Javascript Classes Start Here ########-->
    <script>
        function sizeListDropDown () {
            var label = "sizeListDropDown";
            var description = "Shoe Sizes";
            var first = selectionDescriptor(description);
            var dropDown = document.createElement("select");

            dropDown.id = label;
            dropDown.title = label;
            dropDown.name = label;
            dropDown.outerText = "Global Shoe Size List";

            document.body.appendChild(dropDown);
            dropDown.appendChild(first);

            sizeList.forEach(size => {
                var option = document.createElement("option");

                text = size.toString();
                option.textContent = text;
                option.value = text;

                dropDown.appendChild(option);
            });

        }
        sizeListDropDown();

        function discountedBrandsDropDown() {
            var label = "discountedBrandsDropDown";
            var description = "30% Off These Brands";
            var first = selectionDescriptor(description);
            var dropDown = document.createElement("select");

            dropDown.id = label;
            dropDown.title = label;
            dropDown.name = label;
            dropDown.outerText = "30% Off These Brands";

            document.body.appendChild(dropDown);
            dropDown.appendChild(first);

            discountedBrands.forEach(brand => {
                var option = document.createElement("option");

                option.textContent = brand;
                option.value = brand;
                dropDown.appendChild(option);
            });

        } // close discountBrandsDropDown
        discountedBrandsDropDown();

        function stylesDropDown() {
            var label = "shoeStyleDropDown";
            var description = "Select a Shoe Style";
            var first = selectionDescriptor(description);
            var dropDown = document.createElement("select");

            dropDown.id = label;
            dropDown.title = label;
            dropDown.name = label;
            dropDown.outerText = "Shoe Styles";

            document.body.appendChild(dropDown);
            dropDown.appendChild(first);

            styles.forEach(style => {
                var option = document.createElement("option");

                option.textContent = style;
                option.value = style;
                dropDown.appendChild(option);
            });

        } // close discountBrandsDropDown
        stylesDropDown();

        model = randomModel();
        //document.write("<p> random model " + model + "</p>");
        buttonBuilder("button", "randomModel", model);

        //document.write("<p>Properties of a randomly selected shoe:<br></p>");
        //document.write("Brand: "); 
        model = randomModel();
        style = randomStyle();
        price = randomPrice();
        brand = randomBrand();
        sizes = sizeSubSet();

        text = "";
        sizes.forEach(s => {
            text += s.toString() + ", "
        });
        sizeString = trimComma(text.trim(", "));

        window.alert(sizeString);


        for (index = 0; index < sizes.length; index++) {
            document.write(sizes[index].toString() + ", ");
        }


        window.alert(sizeString);
        //document.write("<>Attempting to create the shoe with properties:<br>");
        window.alert("Brand: " + brand + "\nstyle: " + style + "\nmodel: " + model + "\nprice: " + price);

        class Shoe {
            constructor() { //style, brand, model, price) {
                this.model = randomModel();
                this.brand = randomBrand();
                this.style = randomStyle();
                this.regularPrice = randomPrice();

                this.sizes = sizeSubSet();
                //this.model = randomModel();
                //this.regularPrice = randomPrice();

                this.discountPercent = randomPercentDiscount();
                this.discountAmount = this.regularPrice * (this.discountPercent/100.00);
                this.currentPrice = this.regularPrice - this.discountAmount;

                //this.inventory = Math.floor(Math.random() * MAX_PER_MODEL_INVENTORY);
               // this.image = null;




/*
                sizeList.forEach(size => {
                    document.write("processing " + size.toString() + "<br>");
                    if (Math.random() <= 0.45) {
                        document.write(this.model + " is available in size " + size + "<br>");
                        this.sizes.push(size);
                    }
                    else {
                        document.write("    " + size + " has been skipped" + "<br>");
                    }
                });
*/

            } // close constructor 

            sizeInfo () {
                text = ""
                this.sizes.forEach(size => {
                    text += size.toString() + ", "
                });

                return trimComma(text);
            }
/*
            toString () {
                return ("[brand: " + this.brand + " style: " + this.style + " model: " + this.model + " price: " + this.regularPrice + "]");
                   // + " precent discounts: " + this.discountPercent 
                   // + " number in stock: " + this.inventory
                  //  + " sizes: (" + this.sizes.toString() 
                 //   +  ")]";

                //return string;

            } // close toString
*/
        } // end class Shoe

        shoe = new Shoe(); //style, brand, model, price);
        //document.write("<p>The current model of " + shoe.toString() + "</p>");
        document.write("<p>The current model of " + shoe.style + " is " + shoe.model + " by " + shoe.brand + " retailing for " + shoe.regularPrice);
        document.write("<br>price is discounted " + shoe.discountPercent + " % to " + shoe.currentPrice + " available in sizes: " + shoe.sizeInfo() + "</p>");



    </script>
    <!--######## Stop Javascript Classes Start Here ########-->


    <!--######## Start Shoe Size Handling Code ########-->
    <!--######## Finish Shoe Size Handling Code ########-->

    <img src="assets/shoe-collective-03.jpeg" alt ="shoe-collective-03">

    <footer>
        <h5>Contact US</h5>
        We love earing from you.
    </footer>

</body>
</html> 